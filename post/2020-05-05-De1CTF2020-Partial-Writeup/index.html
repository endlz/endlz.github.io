<html>

<head>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>De1CTF 2020 Partial Writeup | 3ND</title>
<link rel="shortcut icon" href="https://3nd.xyz/favicon.ico?v=1627825033165">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://3nd.xyz/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="De1CTF 2020 Partial Writeup | 3ND - Atom Feed" href="https://3nd.xyz/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="Web
check in
hint: æœåŠ¡å™¨5åˆ†é’Ÿé‡ç½®ä¸€æ¬¡ The server will reset every 5 mins.
æ–‡ä»¶ä¸Šä¼ é¢˜ç›®ï¼Œä¸Šä¼ çš„æ–‡ä»¶ä¼šä¿å­˜åœ¨é€‰æ‰‹ä¸ªäººçš„æ–‡ä»¶ç›®å½•ä¸‹ï¼Œfuzz å‘ç°å¯¹ä¸Šä¼ æ–‡ä»¶å†…å®¹ä½œäº†å¦‚ä¸‹è¿‡æ»¤ï¼š
perl|..." />
    <meta name="keywords" content="Writeup,CTF" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <!--<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>-->
    <script src="/media/highlight.min.js"></script>
</head>

<body>
  <div class="main">
    <div class="main-content">
      <div class="site-header">
  <a href="https://3nd.xyz">
  <img class="avatar" src="https://3nd.xyz/images/avatar.png?v=1627825033165" alt="">
  </a>
  <h1 class="site-title">
    3ND
  </h1>
  <p class="site-description">
    å¤ãŒçµ‚ã‚ã£ãŸ
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          é¦–é¡µ
        </a>
      
    
      
        <a href="/archives" class="menu">
          å½’æ¡£
        </a>
      
    
      
        <a href="/tags" class="menu">
          æ ‡ç­¾
        </a>
      
    
      
        <a href="/post/about" class="menu">
          å…³äº
        </a>
      
    
  </div>
  <div class="social-container">
    <a href="https://github.com/inspiringz" target="_blank">
      <i class="ri-github-fill"></i>
    </a>
    <a href="mailto:z@3nd.xyz" target="_blank">
      <i class="ri-mail-send-fill"></i>
  </a>
  <a href="#">
    <i class="ri-fire-fill"></i>
</a>
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              De1CTF 2020 Partial Writeup
            </h2>
            <div class="post-info">
              <span>
                2020-05-05
              </span>
              <span>
                6 min read
              </span>
              <span class="page-view" key="20200505170254" title="De1CTF 2020 Partial Writeup">
              </span>
              
                <a href="https://3nd.xyz/tag/writeup/" class="post-tag">
                  # Writeup
                </a>
                
                <a href="https://3nd.xyz/tag/ctf/" class="post-tag">
                  # CTF
                </a>
                
            </div>
            
                <div class="post-content-wrapper">
                  <div class="post-content">
                    <h2 id="web">Web</h2>
<h3 id="check-in">check in</h3>
<p>hint: æœåŠ¡å™¨5åˆ†é’Ÿé‡ç½®ä¸€æ¬¡ The server will reset every 5 mins.</p>
<p>æ–‡ä»¶ä¸Šä¼ é¢˜ç›®ï¼Œä¸Šä¼ çš„æ–‡ä»¶ä¼šä¿å­˜åœ¨é€‰æ‰‹ä¸ªäººçš„æ–‡ä»¶ç›®å½•ä¸‹ï¼Œfuzz å‘ç°å¯¹ä¸Šä¼ æ–‡ä»¶å†…å®¹ä½œäº†å¦‚ä¸‹è¿‡æ»¤ï¼š</p>
<pre><code class="language-c">perl|pyth|ph|auto|curl|base|&gt;|rm|ruby|openssl|war|lua|msf|xter|telnet in contents!
</code></pre>
<p>File Format ä¹Ÿè¿›è¡Œäº†é™åˆ¶ï¼Œå¯ä¿®æ”¹ Content-Type: imgae/jpeg è¿›è¡Œç»•è¿‡ã€‚</p>
<p>é€šè¿‡ä¸Šä¼  <code>.htaccess</code> é…ç½®æ–‡ä»¶æ·»åŠ  <code>.asp</code> åç¼€æ–‡ä»¶è§£æè§„åˆ™ï¼ˆé€šè¿‡ <code>\</code> æ¢è¡Œè¿›è¡Œç»•è¿‡ï¼‰:</p>
<pre><code class="language-php">AddType application/x-httpd-p\
hp .asp
</code></pre>
<p>å†ä¸Šä¼  <code>.asp</code> åç¼€æ–‡ä»¶é€šè¿‡ PHP çŸ­æ ‡ç­¾ç»“åˆåå¼•å· <strong>`</strong> æ‰§è¡Œå‘½ä»¤ï¼š</p>
<pre><code class="language-php">&lt;?=`cat /flag`;
</code></pre>
<p>è·å–åˆ° flag: De1ctf{cG1_cG1_cg1_857_857_cgll111ll11lll}.</p>
<h3 id="calc">calc</h3>
<p>Please calculate the content of file /flag</p>
<p>å‚æ•°æäº¤ URL è·¯ç”±ï¼š<code>/spel/calc?calc=1*1</code>ï¼Œåº”è¯¥æ˜¯è€ƒå¯Ÿ <strong>SpEL æ³¨å…¥</strong>ï¼Œå°è¯•å®ä¾‹åŒ–å¯¹è±¡åŠè¯»å–æ–‡ä»¶ã€‚</p>
<p>fuzz å‘ç°è¿‡æ»¤äº† <code>String</code>ã€ <code>Runtime</code>ã€ <code>T(</code>ã€ <code>java.lang</code>ã€<code>new</code> ç­‰å…³é”®å­—ï¼Œæœ€ç»ˆå‘ç° SpEL å…³é”®å­—å¤§å°å†™ä¸æ•æ„Ÿï¼Œæœ€ç»ˆ Payload å¦‚ä¸‹:</p>
<pre><code class="language-java">neW%20java.util.Scanner(neW%20java.io.File(%22/flag%22)).next()
</code></pre>
<p>flag: De1CTF{NobodyKnowsMoreThanTrumpAboutJava}.</p>
<p><strong>- å‚è€ƒ -</strong></p>
<ul>
<li>
<p><a href="http://rui0.cn/archives/1043">ç”±æµ…å…¥æ·±SpELè¡¨è¾¾å¼æ³¨å…¥æ¼æ´ - Ruilin</a></p>
</li>
<li>
<p><a href="https://docs.spring.io/spring/docs/3.0.x/reference/expressions.html">Spring Expression Language (SpEL)</a></p>
</li>
<li>
<p><a href="http://itmyhome.com/spring/expressions.html">Spring è¡¨è¾¾å¼è¯­è¨€ (SpEL)</a></p>
</li>
<li>
<p><a href="https://mp.weixin.qq.com/s/XMuDjXgZUkoQTcKicx5djg">Spring SPELæ³¨å…¥æ¼æ´åˆ©ç”¨</a></p>
</li>
</ul>
<h2 id="misc">Misc</h2>
<h3 id="welcome_to_the_2020_de1ctf">Welcome_to_the_2020_de1ctf</h3>
<p>check_in! https://t.me/De1CTF</p>
<p>De1CTF{m4y_th3_f0rc3_b3_w1th_y0u}</p>
<h3 id="æ‚çƒ©-chowder">æ‚çƒ© Chowder</h3>
<p>hint1: æµé‡åŒ…ä¸­çš„ç½‘ç»œè¿æ¥å¯¹è§£é¢˜æ²¡æœ‰å¸®åŠ©.</p>
<p>hint2: ä¸éœ€è¦è®¿é—®æµé‡é‡Œä»»ä½•ä¸€ä¸ªçš„æœåŠ¡å™¨åœ°å€ï¼Œæ‰€æœ‰æ•°æ®éƒ½å¯ä»¥ä»æµé‡åŒ…é‡Œç›´æ¥æå–.</p>
<p>hint3: å‹ç¼©åŒ…å¯†ç æš´ç ´è€ƒç‚¹ä¸­ï¼Œå¯†ç çš„é•¿åº¦ä¸º 6 ä½ï¼Œå‰ä¸¤ä½ä¸º <code>DE</code>ã€‚</p>
<p>Wireshark å¯¼å‡º <code>Misc_Chowder.pcap</code> æµé‡åŒ…ä¸­çš„ HTTP å¯¹è±¡ï¼Œæå–å‡º 7 å¼ å›¾ç‰‡ï¼Œåœ¨ <code>7.png</code> ä¸­è·å–åˆ°é“¾æ¥å¦‚ä¸‹ï¼š</p>
<p>https://drive.google.com/file/d/1JBdPj7eRaXuLCTFGn7AluAxmxQ4k1jvX/view</p>
<p>ä¸‹è½½å¾—åˆ° readme.zipï¼Œè§£å‹è·å– readme.docxï¼Œbinwalk -e readme.docx è·å– You_found_me_Orz.zipã€‚</p>
<p>æ ¹æ®å¯†ç é•¿åº¦ä¸º 6 ä½ï¼Œå‰ä¸¤ä½ä¸º <code>DE</code> ä½¿ç”¨ APCHPR è¿›è¡Œæš´åŠ›ç ´è§£ï¼Œå¾—åˆ°è§£å‹å¯†ç  <code>DE34Q1</code>ï¼Œå¾—åˆ° You_found_me_Orz.jpgï¼Œè¿›ä¸€æ­¥ binwalk åˆ†ç¦»å‡ºå‹ç¼©æ–‡ä»¶.</p>
<p>é€šè¿‡ <code>7zip</code> å‘ç°äº¤æ›¿æ•°æ®æµï¼Œç³» NTFS éšå†™ï¼ˆå¯å‚è€ƒ<a href="https://www.qingsword.com/qing/812.html">åˆ©ç”¨NTFSäº¤æ¢æ•°æ®æµéšè—æ–‡ä»¶</a>ï¼‰.</p>
<figure data-type="image" tabindex="1"><img src="https://3nd.xyz/post-images/move/2020-05-05-17-39-43.png" alt="" loading="lazy"></figure>
<p>è·å–åˆ° flag: De1CTF{E4Sy_M1sc_By_Jaivy_31b229908cb9bb}.</p>
<h3 id="mc_joinin">mc_joinin</h3>
<p>Hurry up and join in the game.<br>
We are waiting for you.</p>
<p>hint: mc_joininçš„flagæ ¼å¼ä¸ºï¼šDe1CTF{md5(flag)}</p>
<p>åœ¨é¢˜ç›®ç¯å¢ƒ Web é¡µé¢è·å–åˆ°ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<pre><code>Minecraft 20.20 is developed by De1ta Team based on 1.12
Headless: Client isn't necessary. 
</code></pre>
<p>é¦–å…ˆå°è¯•é€šè¿‡ HMCL å¯åŠ¨å™¨å®‰è£… Java 1.12 ç‰ˆæœ¬çš„æ¸¸æˆèµ„æºï¼Œå°è¯•ç¦»çº¿æ¨¡å¼åŠ å…¥å¤šäººæ¸¸æˆã€‚</p>
<figure data-type="image" tabindex="2"><img src="https://3nd.xyz/post-images/move/2020-05-05-17-46-26.png" alt="" loading="lazy"></figure>
<p>æç¤ºç‰ˆæœ¬ä¸å…¼å®¹ï¼Œæ— æ³•è¿æ¥è‡³æœåŠ¡å™¨ã€‚</p>
<figure data-type="image" tabindex="3"><img src="https://3nd.xyz/post-images/move/2020-05-05-17-46-37.png" alt="" loading="lazy"></figure>
<p>åœ¨ Github ä¸Šæ£€ç´¢ Minecraft client æ‰¾åˆ°ä»“åº“ <a href="https://github.com/ammaraskar/pyCraft">pyCraft</a>ï¼š</p>
<figure data-type="image" tabindex="4"><img src="https://3nd.xyz/post-images/move/2020-05-05-17-46-49.png" alt="" loading="lazy"></figure>
<p>è¿è¡Œ pyCraft start.py å°è¯•è¿æ¥æœåŠ¡å™¨æ—¶æç¤ºï¼š</p>
<pre><code>VersionMismatch: Server's protocol version of 997 (MC2020) is not supported.
</code></pre>
<p>åœ¨ <code>./minecraft/__init__.py</code> ä¸­ 229 è¡Œæ·»åŠ ï¼š<code>'MC2020': 997,</code>ï¼Œå†æ¬¡å°è¯•ï¼š</p>
<figure data-type="image" tabindex="5"><img src="https://3nd.xyz/post-images/move/2020-05-05-17-47-30.png" alt="" loading="lazy"></figure>
<p>æˆåŠŸè¿æ¥åˆ°æœåŠ¡å™¨ï¼Œ Wireshark æ•è·æµé‡è¿›è¡Œåˆ†æï¼š</p>
<figure data-type="image" tabindex="6"><img src="https://3nd.xyz/post-images/move/2020-05-05-17-47-50.png" alt="" loading="lazy"></figure>
<p>HIDE FLAG ONE imgur.com/a/ZOrErVMï¼Œè¿›è€Œè·å–åˆ°å›¾ç‰‡ï¼š</p>
<figure data-type="image" tabindex="7"><img src="https://3nd.xyz/post-images/move/2020-05-05-17-48-00.png" alt="" loading="lazy"></figure>
<p>StegSolve æ£€æŸ¥æ—¶åœ¨ Red plane 1 é€šé“è·å–åˆ°éšå†™ä¿¡æ¯ï¼š</p>
<figure data-type="image" tabindex="8"><img src="https://3nd.xyz/post-images/move/2020-05-05-17-48-08.png" alt="" loading="lazy"></figure>
<p>å¯¹å›¾ç‰‡è¿›è¡Œæ—‹è½¬åå‘å˜æ¢åè·å–åˆ° De1CTF{MC2020_Pr0to3l_Is_Funny-ISn't_It?}.</p>
<figure data-type="image" tabindex="9"><img src="https://3nd.xyz/post-images/move/2020-05-05-17-48-23.png" alt="" loading="lazy"></figure>
<p>æœ€ç»ˆ flag: De1CTF{33426ff09d87c2c988f1c3ff250bcd72}.</p>
<h3 id="life">Life</h3>
<p>No Game No Life!</p>
<figure data-type="image" tabindex="10"><img src="https://3nd.xyz/post-images/move/2020-05-05-17-50-03.png" alt="" loading="lazy"></figure>
<p>binwalk æ£€æŸ¥ game.jpg å‘ç°æœ‰é™„ä»¶æ–‡ä»¶ï¼Œ<code>-e</code> è¿›è¡Œåˆ†ç¦»ï¼š</p>
<p>è·å–åˆ°åŠ å¯†å‹ç¼©åŒ… flag.zip ï¼ˆå†…å« txt.pilf.txtï¼‰åŠ passphare.pngï¼Œéœ€è¦ä» png ä¸­è·å– key è§£å‹ flag.zipï¼Œpassphare.pngï¼ˆ27 * 27ï¼‰ å¦‚ä¸‹ï¼š</p>
<figure data-type="image" tabindex="11"><img src="https://3nd.xyz/post-images/move/2020-05-05-17-50-15.png" alt="" loading="lazy"></figure>
<p>å°è¯•ä½œä¸º QR ã€DataMatrix è¿›è¡Œä¿®å¤è¯†åˆ«æ— æœï¼Œåé€šè¿‡ Google æœç´¢ &quot;CTF&quot; &quot;life&quot; &quot;game&quot; æ—¶å‘ç°è¯¥å›¾å¾ˆå¯èƒ½å‡ºè‡ª <a href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life">Conway's Game of Life</a>ï¼ˆä¸€æ¬¾æ¨¡æ‹Ÿç»†èƒæ¼”å˜çŠ¶æ€çš„ç»†èƒè‡ªåŠ¨æœºï¼‰ã€‚</p>
<p>å‚è€ƒ <a href="https://medium.com/ctf-writeups/sunshine-ctf-2019-write-up-c7174c0fb56">Sunshine CTF 2019 Golly Gee Willikers</a> , é¦–å…ˆå°† passphare.png è½¬æ¢ä¸º 01 çŸ©é˜µå¦‚ä¸‹ï¼š</p>
<pre><code>000000000000010000000000000
000000000000000000000000000
001000000000010000000000000
000001010010100001001011000
000110101100101111011001000
000101010101000001011010000
010100000100000110000000100
000110101101100101010010000
000101010101011001101100100
000010101000010001001101000
000100000101100110000000111
000000011110001011001101101
001010010000001000110000010
000001110010110001001101011
001010011011000100000010011
000101111000110100111100010
000001100000011001010101011
000010011001110010101011011
001100001100101000010001001
000000100101000101100000011
111001100100110001001111011
011100100010111010001010010
100000001000100001101001011
100100000010010000110000110
101011110100111111100110010
100011111110110110011111110
001001000011110011101010011
</code></pre>
<p>å†é€šè¿‡å¦‚ä¸‹è„šæœ¬è½¬æ¢ä¸º <a href="http://golly.sourceforge.net/Help/formats.html">Extended RLE Format</a>:</p>
<pre><code class="language-python">lines = open(&quot;1.txt&quot;, &quot;r&quot;).read().split(&quot;\n&quot;)
content = &quot;&quot;
header = &quot;x = 27, y = 27, rule = B3/S23\n&quot;

for line in lines:
    line = line.replace(&quot;1&quot;, &quot;o&quot;)
    line = line.replace(&quot;0&quot;, &quot;b&quot;)
    idx = 0
    currState = &quot;u&quot;
    currNum = 0
    while idx &lt; 28:
        # flush the last one
        if idx == 27:
            if currNum &gt; 1:
                content += str(currNum) + currState
                content += &quot;$&quot;
            else:
                content += line[26]
                content += &quot;$&quot;
            break
        # init state
        if currState == &quot;u&quot;:
            currState = line[idx]
            currNum = 1
        # already inited
        # and same state of cell
        elif currState == line[idx]:
            currNum += 1
        elif currState != line[idx]:
            # print(&quot;flush now&quot;)
            result = str(currNum) + currState if currNum != 1 else currState
            content += result
            currState = line[idx]
            currNum = 1
        # print(line[idx], str(currNum) + currState, content)
        idx += 1

print(header + content)
</code></pre>
<p>åœ¨ https://copy.sh/life/  å¯¼å…¥ Extend RLE Format state å¦‚ä¸‹:</p>
<pre><code>x = 27, y = 27, rule = B3/S23
13bo13b$27b$2bo10bo13b$5bobo2bobo4bo2bob2o3b$3b2obob2o2bob4ob2o2bo3b$3bobobobobo5bob2obo4b$bobo5bo5b2o7bo2b$3b2obob2ob2o2bobobo2bo4b$3bobobobobob2o2b2ob2o2bo2b$4bobobo4bo3bo2b2obo3b$3bo5bob2o2b2o7b3o$7b4o3bob2o2b2ob2obo$2bobo2bo6bo3b2o5bob$5b3o2bob2o3bo2b2obob2o$2bobo2b2ob2o3bo6bo2b2o$3bob4o3b2obo2b4o3bob$5b2o6b2o2bobobobob2o$4bo2b2o2b3o2bobobob2ob2o$2b2o4b2o2bobo4bo3bo2bo$6bo2bobo3bob2o6b2o$3o2b2o2bo2b2o3bo2b4ob2o$b3o2bo3bob3obo3bobo2bob$o7bo3bo4b2obo2bob2o$o2bo6bo2bo4b2o4b2ob$obob4obo2b7o2b2o2bob$o3b7ob2ob2o2b7ob$2bo2bo4b4o2b3obobo2b2o$
</code></pre>
<p>è§‚å¯Ÿä¸‹ä¸€ä¸ª Step å‘ç° QR Codeï¼Œè·å–åˆ° key: AJTC8ADEVRA13AR.</p>
<figure data-type="image" tabindex="12"><img src="https://3nd.xyz/post-images/move/2020-05-05-17-51-19.png" alt="" loading="lazy"></figure>
<p>è¿›è€Œè§£å‹è·å–åˆ° txt.pilf.txt , å¯¹å…¶å†…å®¹ flip åè½¬å Base64 è§£ç ï¼Œå†æ¬¡åè½¬å Base16 è§£ç è·å–åˆ° flag.</p>
<pre><code class="language-sh">txt.pilf.txt &gt; 0QjN1MTM0MTN0QjN3ImNjNzM3QTNmdTN3MTNmdzMzcjNxcjM3QTNmdDN2gzMzUjZ2czM0YDZzMjMxcDZ
flip &gt; ZDcxMjMzZDY0Mzc2ZjUzMzg2NDdmNTQ3MjcxNjczMzdmNTM3NTdmNTQ3MzNjNmI3NjQ0NTM0MTM1NjQ0
b64_decode &gt; d71233d64376f5338647f54727167337f53757f54733c6b7644534135644
flip &gt; 4465314354467b6c33745f75735f73376172745f7468335f67346d33217d
b16_decode &gt; De1CTF{l3t_us_s7art_th3_g4m3!}
</code></pre>
<h3 id="questionnaire">Questionnaire</h3>
<p>De1CTF 2020 Questionnaire, and we look forward to your reply~</p>
<p>PS. There is also a flag in the questionnaire ğŸ˜ƒ</p>
<p>https://forms.gle/kXXgHCiLpFRXRijt6</p>
<p>De1CTF{hav3_fun_1n_De1CTF_2020}</p>

                  </div>
                  <div class="toc-container">
                    <div style="position: sticky;
                    top: 20px;">
                    <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#web">Web</a>
<ul>
<li><a href="#check-in">check in</a></li>
<li><a href="#calc">calc</a></li>
</ul>
</li>
<li><a href="#misc">Misc</a>
<ul>
<li><a href="#welcome_to_the_2020_de1ctf">Welcome_to_the_2020_de1ctf</a></li>
<li><a href="#%E6%9D%82%E7%83%A9-chowder">æ‚çƒ© Chowder</a></li>
<li><a href="#mc_joinin">mc_joinin</a></li>
<li><a href="#life">Life</a></li>
<li><a href="#questionnaire">Questionnaire</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                  </div>
                  </div>
                </div>
          </article>
        </div>

        
          <div class="nearby-post" style="padding: 24px 32px;">
            <div class="prev-post" style="float: left;">
              <div class="aaa" style="
              margin-bottom: 24px;
              color: #343a40;
              font-weight: lighter;text-align: left;">ä¸Šä¸€ç¯‡</div>
              <a href="https://3nd.xyz/post/2020-05-11-2020-wdbctf-qlz-writeup/">
                <h3 class="post-title" style="text-align: left;">
                  2020 ç½‘é¼æ¯é’é¾™ç»„éƒ¨åˆ†é¢˜è§£
                </h3>
              </a>
            </div>
            <div class="next-posts" style="float: right;">
              <div class="aaa" style="
              margin-bottom: 24px;
              color: #343a40;
              font-weight: lighter; text-align: right;">ä¸‹ä¸€ç¯‡</div>
              <a href="https://3nd.xyz/post/2020-01-05-Java-Course-Review/">
                <h3 class="post-title" style="
                text-align: right;">
                  Java Course Review Note
                </h3>
              </a>
            </div>
          </div>
          

                

                                <div class="site-footer">
  
  <a class="rss" href="https://3nd.xyz/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

    </div>
  </div>

  <script>
    hljs.highlightAll();

    let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

    // This should probably be throttled.
    // Especially because it triggers during smooth scrolling.
    // https://lodash.com/docs/4.17.10#throttle
    // You could do like...
    // window.addEventListener("scroll", () => {
    //    _.throttle(doThatStuff, 100);
    // });
    // Only not doing it here to keep this Pen dependency-free.

    window.addEventListener("scroll", event => {
      let fromTop = window.scrollY;

      mainNavLinks.forEach((link, index) => {
        let section = document.getElementById(decodeURI(link.hash).substring(1));
        let nextSection = null
        if (mainNavLinks[index + 1]) {
          nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
        }
        if (section.offsetTop <= fromTop) {
          if (nextSection) {
            if (nextSection.offsetTop > fromTop) {
              link.classList.add("current");
            } else {
              link.classList.remove("current");
            }
          } else {
            link.classList.add("current");
          }
        } else {
          link.classList.remove("current");
        }
      });
    });
  </script>
<script src="/media/view-support.js"></script>
<script>
  window.Lazyload.js(['https://cdn.bootcss.com/jquery/3.1.1/jquery.min.js', '//cdn.jsdelivr.net/npm/leancloud-storage@3.13.2/dist/av-min.js'], function () {
    var pageview = window.pageview(AV, {
      appId: 'HRVNDkHV80Fpk9M8c5GQqjwy-gzGzoHsz',
      appKey: 'nsyqncNCSWSOkkns1wvDlUrh',
      appClass: 'Gridea',
    });
    $('.page-view').each(function () {
      var $this = $(this);
      var key = $this.attr('key');
      var title = $this.attr('title');
      pageview.increase(key, title, function(view) {
        $("[key='" + key +"']").text(view+' views');
      });
    });
  });
</script>

</body>

</html>